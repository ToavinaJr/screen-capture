cmake_minimum_required(VERSION 3.15)
project(ScreenShareMinimalTest VERSION 1.0.0 LANGUAGES CXX)

set(CMAKE_CXX_STANDARD 17)
set(CMAKE_CXX_STANDARD_REQUIRED ON)

# Support Windows
if(WIN32)
    add_definitions(-DWIN32_LEAN_AND_MEAN -DNOMINMAX -D_CRT_SECURE_NO_WARNINGS)
endif()

# Include directories
include_directories(${CMAKE_SOURCE_DIR}/include)
include_directories(${CMAKE_SOURCE_DIR}/src)

# Test 1: Logger uniquement
add_executable(test_logger
    src/utils/Logger.cpp
    tests/test_logger_minimal.cpp
)

# Test 2: ThreadPool
add_executable(test_threadpool
    src/threading/ThreadPool.cpp
    tests/test_threading.cpp
)

# Test 3: Common headers
add_executable(test_common
    tests/test_common.cpp
)

message(STATUS "===================================")
message(STATUS "Configuration de tests minimaux")
message(STATUS "Build tests sans d√©pendances externes")
message(STATUS "===================================")
